= form_for user_story,
html: { class: user_story.new_record? ? 'new-story new_user_story' : 'edit-story edit_user_story',
data: { hypothesis_id: hypothesis.nil? ? nil : hypothesis.id } },
url: form_url do |form|
  -if user_story.errors.any?
    .alert-box.alert.user_story_errors
      %ul
        - user_story.errors.full_messages.each do |error|
          %li= error
  %span.icon-edit
  .user-story-input.epic
    = form.check_box :epic, id: user_story.id
    %label{ for: user_story.id }
    %span= t('backlog.user_stories.epic')
  .user-story-input.role
    = t('backlog.user_stories.role')
    = form.text_field(                                   |
      :role,                                             |
      placeholder: t('backlog.user_stories.enter_role'), |
      required:    true,                                 |
      maxlength:   100,                                  |
      class:      'role',                                |
      'data-autosize-input' => '{ "space": 10 }'         |
    )                                                    |
  .user-story-input.action
    = t('backlog.user_stories.action_prefix')
    .user-story-priority= user_story.priority
    = t('backlog.user_stories.action_suffix')
    = form.text_field(                                     |
      :action,                                             |
      placeholder: t('backlog.user_stories.enter_action'), |
      required:    true,                                   |
      maxlength:   255,                                    |
      class:      'action',                                |
      'data-autosize-input' => '{ "space": 10 }'           |
    )                                                      |
  .user-story-input.result
    = t('backlog.user_stories.result')
    = form.text_field(                                     |
      :result,                                             |
      placeholder: t('backlog.user_stories.enter_result'), |
      required:    true,                                   |
      maxlength:   255,                                    |
      class:      'result',                                |
      'data-autosize-input' => '{ "space": 10 }'           |
    )                                                      |
  .enter - press &#8629; to finish
  - if hypothesis
    = form.hidden_field :hypothesis_id, value: hypothesis.id
  = form.submit I18n.translate('save'), class: 'hide user-story-submit'
