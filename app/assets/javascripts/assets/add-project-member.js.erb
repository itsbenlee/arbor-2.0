$(document).ready(function() {
  var max_member_count  = <%= ENV['MAXIMUM_MEMBER_COUNT'] %>
  var member_count      = 0;
  var wrapper           = $('#members');
  var add_member_button = $('#new_member_button');

  $(add_member_button).click(function(e) {
    var member_input = generateInput();

    e.preventDefault();
    if (member_count < max_member_count) {
      member_count++;
      $(wrapper).append('<div>' + member_input + '</div>');
    };
  });

  function generateInput() {
    var member_id    = 'member_' + member_count;
    var member_name  = 'project[' + member_id + ']';
    return '<input class="new_member" ' +
           'name="' + member_name + '" ' +
           'id="' + member_id + '" ' +
           'type="email">';
  };//generateInput
});

