// DASHBOARD
// - - - - - - - - - - - - - - - - - - - - - - - - -

// Dashboard header
// - - - - - - - - - - -
$search-width: rem-calc(300);

.dashboard-header {
  @include clearfix;
  padding-top: rem-calc(50);

  input,
  li,
  .recent-link { font-size: rem-calc(14); }

  .search-bar {
    position: relative;

    .icn-search {
      left: rem-calc(25);
      position: absolute;
      top: rem-calc(10);
    }

    input {
      background-color: $white;
      border: 0;
      border-bottom: 1px solid $black-10;
      margin-bottom: 0;
      max-width: $search-width;
      padding-left: rem-calc(40);
      @include input-placeholder { color: $black-60; }

      &:focus { background-color: $white; }

      @media #{$small-only} { max-width: 100%; }
    } // search input

    .input-icon {
      left: rem-calc(30);
      position: absolute;
      top: rem-calc(15);
    } // icon
  }//dashboard header

  .right-search-content {
    .recent-link {
      @include inline-block;

      select {
        background: $white rem-calc(97 12) url('icons/arrow-dropdown.png')  no-repeat;
        border: 0;
        color: $black-50;
        cursor: pointer;
        font-size: rem-calc(14);
        height: auto;
        margin: rem-calc(10 0 0 0);
        min-width: rem-calc(110);
      } // recent
    }

    .create-project { float: right; }

    @media #{$small-only} { margin-top: rem-calc(20); }
  }// right-search-content
}// dashboard header

// Search Filter Widget
// - - - - - - - - - - - - - - - - - - -
.ui-autocomplete {
  @include opacity(1);
  background-color: $dashboard-hover-color;
  max-height: rem-calc(230);
  overflow: scroll;
  padding-left: 0;
  width: $search-width;
  z-index: 10;

  @media #{$small-only} { width: calc(100% - #{$column-gutter}) / 2; }

  li {
    border-top: 1px solid $black-30;
    color: $black-70;
    font-size: rem-calc(14);
    padding: rem-calc(20 0 20 40);

    &:hover {
      background-color: $black-10;
      border-top: 1px solid $black-10;

      +li { border-top: 1px solid $black-10; }
    } // hover
  } // project list result
} // project searchbar

// Dashboard empty
// - - - - - - - - - - -
.no-projects {
  @include translateY(-50%);
  font-size: rem-calc(15);
  left: 0;
  position: absolute;
  text-align: center;
  top: 50%;
  width: 100%;

  .title {
    color: $primary-nav-color;
    font-size: rem-calc(19);
    font-weight: $font-weight-bold;
    margin-bottom: rem-calc(5);
  }

  p {
    color: $black-30;
    font-size: rem-calc(15);
    margin-bottom: rem-calc(30);
  }

  .button { display: inline; }
}// no projects block


// Dashboard with stories
// - - - - - - - - - - - - - - -
.project-list {
  $action-circle-dimension: rem-calc(25);
  $white-border: 1px solid $white;
  $project-padding-top: rem-calc(10);
  $project-padding-sides: rem-calc(15);
  $project-padding: rem-calc(10 15);
  $project-border: rem-calc(2);

  margin: rem-calc(40 0);

  [class^="icn-"] {
    font-size: rem-calc(13);
    line-height: $action-circle-dimension;
    vertical-align: top;

    &[class^="icn-favorite"] { font-size: rem-calc(18); }
  }

  .title-breaker { margin-top: rem-calc(50); }

  .project,
  li { @include clearfix; }

  li {
    border-bottom: 1px solid $black-10;
    overflow: hidden;
    position: relative;

    &:not(.favorite-project) {
      .project,
      .actions,
      .deleter { background-color: $white; }

      &:hover {
        .project,
        .actions,
        .deleter { background-color: $dashboard-hover-color; }

        .title,
        .others,
        .last-update { color: $black; }

        .favorite .icn-favorite-empty { @include inline-block; }
      }
    }//not favorite project entry

    [class^="icn-"] {
      @include opacity(1);

      &:hover { @include opacity(.7); }
    }
  }//project li

  // Project link
  .project {
    border-bottom: $white-border;
    border-top: $white-border;
    display: block;
    padding: $project-padding;
    position: relative;

    .title {
      margin-bottom: rem-calc(5);
      width: 100%;
    }

    .last-update {
      font-size: rem-calc(12);
      margin: 0;
    }

    .title,
    .last-update {
      color: $black-40;
      line-height: 1;
    }
  }//project link

  .actions,
  .deleter,
  .right {
    position: absolute;
    right: $project-padding-sides;
    top: $project-padding-top + $project-border;

    .icn-favorite-empty:hover {
      &::before { content: '\e906'; }
    }//icon

    .delete-project { margin-right: 0; }
  }//all three floating sections on the right

  //projects not set as favorite
  .common-projects-list {
    .actions,
    .deleter,
    .right {
      @include translateY(-50%);
      position: absolute;
      right: $project-padding-sides;
      top: 50%;
    }
  }// regular project list

  // Right section with ... and favorite btn
  .right {
    line-height: $action-circle-dimension;
    z-index: 2;

    .favorite,
    .others {
      @include inline-block;
      color: $black-70;
      font-size: rem-calc(18);
      z-index: 3;
    }

    [class^="icn-favorite"] {
      color: $black;
      display: none;
      margin-right: rem-calc(5);
    }//icon
  }//right section

  .actions,
  .deleter {
    @include clearfix;
    color: $black;
    display: none;
    min-width: rem-calc(100);
    z-index: 3;

    &.visible { display: block; }

    &.actions { .icn-favorite-empty { @include inline-block; }}
  }//actions and deleter

  // Delete user story overlay
  .deleter {
    z-index: 4;

    p,
    a:not(.button) {
      @include inline-block;
      color: $black-50;
      font-size: rem-calc(10);
      margin: 0;

      &.cancel { margin-right: $project-padding-sides; }
    }

    .button { margin: 0 $project-padding-sides; }
    .delete-project { float: none; }
  }// deleter

  .delete-project,
  .copy-project,
  [class^="icn-favorite"] {
    @include inline-block;
    @include border-radius(100%);
    background-color: $black-10;
    float: right;
    font-size: rem-calc(13);
    height: $action-circle-dimension;
    line-height: $action-circle-dimension;
    margin-right: $project-padding-top;
    text-align: center;
    width: $action-circle-dimension;
  }// circled buttons

  .favorite-link { padding-bottom: rem-calc(1); }

  // Favorite projects
  // - - - - - - - - - - - - - - - - -
  .favorites {
    margin-left: 0;
    margin-top: rem-calc(25);
    max-width: 100%;
  }//favorites list

  .favorite-project {
    border: 0;
    height: rem-calc(130) + $project-padding-top * 2;

    .project,
    .deleter {
      @include border-radius($global-radius);
      background-color: $light-grey;
      border: 0;
      height: 100%;

      .title {
        color: $white;
        font-size: rem-calc(18);
        margin-bottom: rem-calc(5);
        width: 100%;
      }//title

      .left {
        bottom: $project-padding-sides;
        position: absolute;
        width: calc(100% - #{$project-padding-sides} * 2);

        .title { color: $header-font-color; }
      }//card info
    }//project

    .actions,
    .deleter,
    .right {
      background-color: $light-grey;
      right: $project-padding-sides + $block-grid-default-spacing / 2;

      .delete-project,
      .copy-project,
      [class^="icn-favorite"] { background-color: $white; }

      &.deleter {
        background-color: darken($light-grey, 60%);
        height: calc(100% - #{$project-padding-top} * 2);
        padding: $project-padding;
        right: $block-grid-default-spacing / 2;
        text-align: center;
        top: 0;
        width: calc(100% - #{$block-grid-default-spacing});

        p,
        [class^="icn-"] { color: $white; }

        .title { margin-bottom: rem-calc(10); }
      }//deleter
    }

    .right { [class^="icn-favorite"] { display: block; }}
  }//favorite-project
}//Dashboard with stories
